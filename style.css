:root{
  --bg: var(--tg-theme-bg-color,#f7f7f8);
  --text: var(--tg-theme-text-color,#111);
  --muted:#6a6a6d;
  --button: var(--tg-theme-button-color,#0a84ff);
  --button-text: var(--tg-theme-button-text-color,#fff);
  --card:#fff;
  --hair:rgba(0,0,0,.08);
}

*{box-sizing:border-box}
body{
  margin:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;
  color:var(--text);background:var(--bg);height:100vh;display:flex;justify-content:center;
}

/* iOS 26 sheet / onboarding */
.sheet{
  position:fixed;inset:0;display:flex;flex-direction:column;align-items:center;
  padding:24px 20px;gap:14px;background:var(--bg);z-index:20;
}
.sheet .sheet-icon{font-size:40px;margin-top:14px}
.sheet h2{margin:0;font-size:22px}
.sub{color:var(--muted);margin:0 0 8px}
.field{width:100%;max-width:520px;display:flex;flex-direction:column;gap:6px}
.field input{padding:12px 14px;border:1px solid var(--hair);border-radius:14px;background:#fff}
.field.file input{padding:10px}
.cta{
  width:100%;max-width:520px;padding:14px;border:none;border-radius:18px;
  background:var(--button);color:var(--button-text);font-weight:600;font-size:16px;
}
.round-x{position:absolute;left:14px;top:14px;border:none;background:#fff;border-radius:50%;width:34px;height:34px;font-size:18px}

/* layout containers */
.home-screen,.chat-screen,.panel{width:100%;max-width:600px;height:100vh;display:flex;flex-direction:column}
.home-header,.chat-header,.panel-header{
  padding:16px;text-align:center;border-bottom:1px solid var(--hair);background:var(--bg);display:flex;align-items:center;justify-content:center
}
.back-btn{position:absolute;left:10px;top:10px;border:none;background:transparent;font-size:20px;cursor:pointer}
.home-content{flex:1;padding:14px 14px 80px;display:flex;flex-direction:column;gap:12px}
.placeholder{text-align:center;color:var(--muted);margin-top:10px}

.chat-card{
  display:flex;gap:12px;align-items:center;background:var(--card);border:1px solid var(--hair);
  border-radius:16px;padding:12px;cursor:pointer;box-shadow:0 2px 8px rgba(0,0,0,.06)
}
.avatar{
  width:44px;height:44px;border-radius:50%;background:#eef;display:flex;align-items:center;justify-content:center;
  font-weight:700
}
.avatar.bubble{background:rgba(10,132,255,.12)}
.meta .title{font-weight:600}
.meta .last{color:var(--muted);font-size:13px}

/* Liquid Glass navbar */
.glass-nav{
  position:fixed;bottom:12px;left:50%;transform:translateX(-50%);display:flex;gap:6px;justify-content:space-around;
  width:92%;max-width:420px;background:rgba(255,255,255,.15);backdrop-filter:blur(20px) saturate(150%);
  border:1px solid rgba(255,255,255,.35);border-radius:24px;padding:6px;box-shadow:0 6px 24px rgba(0,0,0,.18)
}
.nav-btn{flex:1;border:none;background:transparent;color:var(--text);border-radius:18px;padding:8px 0;font-weight:500}
.nav-btn.active{background:rgba(255,255,255,.5)}

/* Search panel */
.panel.hidden{display:none}
.panel-body{padding:12px;display:flex;flex-direction:column;gap:10px}
.search{padding:12px 14px;border:1px solid var(--hair);border-radius:14px;background:#fff}
.list{display:flex;flex-direction:column;gap:8px}
.result{display:flex;gap:10px;align-items:center;padding:10px;border:1px solid var(--hair);border-radius:14px;background:#fff}

/* Chat */
.chat-screen{position:fixed;top:0;left:50%;transform:translate(-50%,100%);background:var(--bg);z-index:10;transition:transform .4s cubic-bezier(.25,.8,.3,1)}
.chat-screen.visible{transform:translate(-50%,0)}
.hidden{display:none}
.chat-messages{flex:1;overflow-y:auto;padding:12px;display:flex;flex-direction:column;gap:8px}
.message{padding:10px 14px;border-radius:16px;max-width:80%;line-height:1.4;word-wrap:break-word;background:var(--button);color:var(--button-text);align-self:flex-end}
.chat-input{display:flex;padding:8px;border-top:1px solid var(--hair);background:var(--bg)}
.chat-input input{flex:1;border:none;padding:10px;border-radius:12px;background:rgba(0,0,0,.05);color:var(--text)}
.chat-input button{margin-left:8px;padding:10px 14px;border:none;border-radius:12px;background:var(--button);color:var(--button-text);font-weight:700;cursor:pointer}